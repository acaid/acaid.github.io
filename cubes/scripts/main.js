"use strict";console.log("'Allo 'Allo!");var rows=9,cubes=9,theSize=10,skin=["skin1","skin2","skin3","skin4"],switcher=0,multiple=1,cube="",row='<div class="row"></div>',found=0,pips=$(".pips ul li"),rebuildCube=function(){cube='<div class="wrap"><div class="cube '+skin[switcher]+'"><div class="top"></div><div class="bottom"></div><div class="left"></div><div class="right"></div><div class="front"></div><div class="back"></div></div></div>'},builder=function(e,i,t){for(;e.children().length>i;)e.children().last().remove();for(;e.children().length<i;)e.append(t)},inMotion=function(){"stop"===$("#animator").text()&&$(".cube").not(".animate").addClass("animate")},buildCubes=function(e){$(".row").each(function(){builder($(this),e,cube),inMotion()})},sizeCubes=function(e){var i=multiple*e+"px";$("html")[0].style.fontSize=i},buildPerspective=function(e){e+="px",$("#perspectiveWrap").css({perspective:e})};$("#sizeValue").on("input",function(){theSize=this.value,$("#sizeOutput").text(theSize),sizeCubes(theSize)}),$("#rowValue").on("input",function(){rows=this.value,$("#rowOutput").text(rows),builder($("#rowContainer"),rows,row),buildCubes(cubes)}),$("#cubeValue").on("input",function(){cubes=this.value,$("#cubeOutput").text(cubes),buildCubes(cubes)}),$("#perspectiveValue").on("input",function(){var e=this.value;$("#perspectiveOutput").text(e),buildPerspective(e)}),$("#animator").click(function(){$("#rowContainer").toggleClass("animate"),$("#animator").toggleClass("red");var e=$("#animator").text();$("#animator").text("animate"===e?"stop":"animate")}),$("#reskin").click(function(){3>switcher?($("#perspectiveWrap."+skin[switcher]).removeClass(skin[switcher]).addClass(skin[switcher+1]),fixPips(switcher),switcher++,rebuildCube()):($("#perspectiveWrap."+skin[switcher]).removeClass(skin[switcher]).addClass(skin[0]),fixPips(switcher),switcher=0,rebuildCube())});var fixPips=function(e){3>e?(pips.eq(e).toggleClass("skinned"),pips.eq(e+1).toggleClass("skinned")):(pips.eq(3).toggleClass("skinned"),pips.eq(0).toggleClass("skinned"))};$("#toggle").click(function(){$("#toggle").toggleClass("toggled"),$("#adjustments").toggleClass("options"),found+=1});var bounceToggle=function(e){1>e&&$("#toggle").addClass("bounceMe")},checkMobile=function(){var e=window.matchMedia("only screen and (max-width: 760px)");e.matches&&setMobileAttributes()},setMobileAttributes=function(){multiple=.3,theSize=16,cubes=5,rows=12,$("#sizeValue").value=theSize,$("#sizeOutput").text(theSize),$("#cubeValue").value=cubes,$("#cubeOutput").text(cubes),$("#rowValue").value=rows,$("#rowOutput").text(rows)};$(function(){checkMobile(),sizeCubes(theSize),rebuildCube(),builder($("#rowContainer"),rows,row),buildCubes(cubes),window.setTimeout(function(){bounceToggle(found)},5e3)});